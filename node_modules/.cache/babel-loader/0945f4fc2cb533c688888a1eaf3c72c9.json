{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/react-crud-php-api-mysql/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListUser(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];useEffect(function(){getUsers();},[]);function getUsers(){alert(\"fddf\");axios.get('http://localhost:3000/api/users/').then(function(response){console.log(\"data\");console.log(response.data);setUsers(response.data);});}var deleteUser=function deleteUser(id){axios.delete(\"http://localhost:3000/api/user/\".concat(id,\"/delete\")).then(function(response){console.log(response.data);getUsers();});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List Users\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mobile\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.mobile}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"user/\".concat(user.id,\"/edit\"),style:{marginRight:\"10px\"},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteUser(user.id);},children:\"Delete\"})]})]},key);})})]})]});}","map":{"version":3,"names":["axios","useEffect","useState","Link","ListUser","users","setUsers","getUsers","alert","get","then","response","console","log","data","deleteUser","id","delete","map","user","key","name","email","mobile","marginRight"],"sources":["C:/xampp/htdocs/react-crud-php-api-mysql/src/components/ListUser.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function ListUser() {\r\n\r\n    const [users, setUsers] = useState([]);\r\n    useEffect(() => {\r\n        getUsers();\r\n    }, []);\r\n\r\n    function getUsers() {\r\n        alert(\"fddf\")\r\n        axios.get('http://localhost:3000/api/users/').then(function(response) {\r\n            console.log(\"data\")\r\n            console.log(response.data);\r\n            setUsers(response.data);\r\n        });\r\n    }\r\n\r\n    const deleteUser = (id) => {\r\n        axios.delete(`http://localhost:3000/api/user/${id}/delete`).then(function(response){\r\n            console.log(response.data);\r\n            getUsers();\r\n        });\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>List Users</h1>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Mobile</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {users.map((user, key) =>\r\n                        <tr key={key}>\r\n                            <td>{user.id}</td>\r\n                            <td>{user.name}</td>\r\n                            <td>{user.email}</td>\r\n                            <td>{user.mobile}</td>\r\n                            <td>\r\n                                <Link to={`user/${user.id}/edit`} style={{marginRight: \"10px\"}}>Edit</Link>\r\n                                <button onClick={() => deleteUser(user.id)}>Delete</button>\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"8HAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,cAAe,SAASC,SAAT,EAAoB,CAE/B,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACAL,SAAS,CAAC,UAAM,CACZM,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASA,SAAT,EAAoB,CAChBC,KAAK,CAAC,MAAD,CAAL,CACAR,KAAK,CAACS,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAmD,SAASC,QAAT,CAAmB,CAClEC,OAAO,CAACC,GAAR,CAAY,MAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAR,QAAQ,CAACK,QAAQ,CAACG,IAAV,CAAR,CACH,CAJD,EAKH,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,EAAD,CAAQ,CACvBhB,KAAK,CAACiB,MAAN,0CAA+CD,EAA/C,aAA4DN,IAA5D,CAAiE,SAASC,QAAT,CAAkB,CAC/EC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAP,QAAQ,GACX,CAHD,EAIH,CALD,CAMA,mBACI,oCACI,kCADJ,cAEI,sCACI,oCACI,mCACI,yBADJ,cAEI,4BAFJ,cAGI,6BAHJ,cAII,8BAJJ,cAKI,+BALJ,GADJ,EADJ,cAUI,uBACKF,KAAK,CAACa,GAAN,CAAU,SAACC,IAAD,CAAOC,GAAP,qBACP,mCACI,oBAAKD,IAAI,CAACH,EAAV,EADJ,cAEI,oBAAKG,IAAI,CAACE,IAAV,EAFJ,cAGI,oBAAKF,IAAI,CAACG,KAAV,EAHJ,cAII,oBAAKH,IAAI,CAACI,MAAV,EAJJ,cAKI,mCACI,KAAC,IAAD,EAAM,EAAE,gBAAUJ,IAAI,CAACH,EAAf,SAAR,CAAkC,KAAK,CAAE,CAACQ,WAAW,CAAE,MAAd,CAAzC,kBADJ,cAEI,eAAQ,OAAO,CAAE,yBAAMT,WAAU,CAACI,IAAI,CAACH,EAAN,CAAhB,EAAjB,oBAFJ,GALJ,GAASI,GAAT,CADO,EAAV,CADL,EAVJ,GAFJ,GADJ,CA+BH"},"metadata":{},"sourceType":"module"}