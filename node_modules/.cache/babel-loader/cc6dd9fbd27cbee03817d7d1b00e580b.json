{"ast":null,"code":"import _defineProperty from\"C:/xampp/htdocs/react-crud-php-api-mysql/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/xampp/htdocs/react-crud-php-api-mysql/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/xampp/htdocs/react-crud-php-api-mysql/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListUser(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){getUser();},[]);function getUser(){axios.get(\"http://localhost:3000/api/user/\".concat(id)).then(function(response){console.log(response.data);setInputs(response.data);});}var handleChange=function handleChange(event){var name=event.target.name;var value=event.target.value;setInputs(function(values){return _objectSpread(_objectSpread({},values),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(event){event.preventDefault();axios.put(\"http://localhost:3000/api/user/\".concat(id,\"/edit\"),inputs).then(function(response){console.log(response.data);navigate('/');});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit user\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"table\",{cellSpacing:\"10\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.name,type:\"text\",name:\"name\",onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.email,type:\"text\",name:\"email\",onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Mobile: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.mobile,type:\"text\",name:\"mobile\",onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",align:\"right\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Save\"})})})]})})})]});}","map":{"version":3,"names":["useState","useEffect","axios","useNavigate","useParams","ListUser","navigate","inputs","setInputs","id","getUser","get","then","response","console","log","data","handleChange","event","name","target","value","values","handleSubmit","preventDefault","put","email","mobile"],"sources":["C:/xampp/htdocs/react-crud-php-api-mysql/src/components/EditUser.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nexport default function ListUser() {\r\n    const navigate = useNavigate();\r\n\r\n    const [inputs, setInputs] = useState([]);\r\n\r\n    const {id} = useParams();\r\n\r\n    useEffect(() => {\r\n        getUser();\r\n    }, []);\r\n\r\n    function getUser() {\r\n        axios.get(`http://localhost:3000/api/user/${id}`).then(function(response) {\r\n            console.log(response.data);\r\n            setInputs(response.data);\r\n        });\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        setInputs(values => ({...values, [name]: value}));\r\n    }\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        axios.put(`http://localhost:3000/api/user/${id}/edit`, inputs).then(function(response){\r\n            console.log(response.data);\r\n            navigate('/');\r\n        });\r\n        \r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Edit user</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <table cellSpacing=\"10\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>\r\n                                <label>Name: </label>\r\n                            </th>\r\n                            <td>\r\n                                <input value={inputs.name} type=\"text\" name=\"name\" onChange={handleChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>\r\n                                <label>Email: </label>\r\n                            </th>\r\n                            <td> \r\n                                <input value={inputs.email} type=\"text\" name=\"email\" onChange={handleChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>\r\n                                <label>Mobile: </label>\r\n                            </th>\r\n                            <td>\r\n                                <input value={inputs.mobile} type=\"text\" name=\"mobile\" onChange={handleChange} />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colSpan=\"2\" align =\"right\">\r\n                                <button>Save</button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"2XAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,C,wFAEA,cAAe,SAASC,SAAT,EAAoB,CAC/B,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CAEA,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eAEA,eAAaJ,SAAS,EAAtB,CAAOK,EAAP,YAAOA,EAAP,CAEAR,SAAS,CAAC,UAAM,CACZS,OAAO,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASA,QAAT,EAAmB,CACfR,KAAK,CAACS,GAAN,0CAA4CF,EAA5C,GAAkDG,IAAlD,CAAuD,SAASC,QAAT,CAAmB,CACtEC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAR,SAAS,CAACK,QAAQ,CAACG,IAAV,CAAT,CACH,CAHD,EAIH,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,GAAMC,KAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,MAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACAb,SAAS,CAAC,SAAAc,MAAM,wCAASA,MAAT,wBAAkBH,IAAlB,CAAyBE,KAAzB,IAAP,CAAT,CACH,CAJD,CAKA,GAAME,aAAY,CAAG,QAAfA,aAAe,CAACL,KAAD,CAAW,CAC5BA,KAAK,CAACM,cAAN,GAEAtB,KAAK,CAACuB,GAAN,0CAA4ChB,EAA5C,UAAuDF,MAAvD,EAA+DK,IAA/D,CAAoE,SAASC,QAAT,CAAkB,CAClFC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAV,QAAQ,CAAC,GAAD,CAAR,CACH,CAHD,EAKH,CARD,CASA,mBACI,oCACI,iCADJ,cAEI,aAAM,QAAQ,CAAEiB,YAAhB,uBACI,cAAO,WAAW,CAAC,IAAnB,uBACI,sCACI,mCACI,iCACI,iCADJ,EADJ,cAII,iCACI,cAAO,KAAK,CAAEhB,MAAM,CAACY,IAArB,CAA2B,IAAI,CAAC,MAAhC,CAAuC,IAAI,CAAC,MAA5C,CAAmD,QAAQ,CAAEF,YAA7D,EADJ,EAJJ,GADJ,cASI,mCACI,iCACI,kCADJ,EADJ,cAII,iCACI,cAAO,KAAK,CAAEV,MAAM,CAACmB,KAArB,CAA4B,IAAI,CAAC,MAAjC,CAAwC,IAAI,CAAC,OAA7C,CAAqD,QAAQ,CAAET,YAA/D,EADJ,EAJJ,GATJ,cAiBI,mCACI,iCACI,mCADJ,EADJ,cAII,iCACI,cAAO,KAAK,CAAEV,MAAM,CAACoB,MAArB,CAA6B,IAAI,CAAC,MAAlC,CAAyC,IAAI,CAAC,QAA9C,CAAuD,QAAQ,CAAEV,YAAjE,EADJ,EAJJ,GAjBJ,cAyBI,iCACI,WAAI,OAAO,CAAC,GAAZ,CAAgB,KAAK,CAAE,OAAvB,uBACI,gCADJ,EADJ,EAzBJ,GADJ,EADJ,EAFJ,GADJ,CAwCH"},"metadata":{},"sourceType":"module"}